"use strict";(self["webpackChunkapache_jena_fuseki"]=self["webpackChunkapache_jena_fuseki"]||[]).push([[121],{3358:function(n,e,t){function s(){var n="/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/src/views/dataset/Info.vue",e="cc4e05bb6725b909c5ab4ce1e398b833a3755506",t=new Function("return this")(),a="__coverage__",l={path:"/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/src/views/dataset/Info.vue",statementMap:{0:{start:{line:1,column:13},end:{line:3,column:1}},1:{start:{line:1,column:39},end:{line:1,column:43}},2:{start:{line:1,column:47},end:{line:1,column:59}},3:{start:{line:1,column:60},end:{line:2,column:1947}},4:{start:{line:1,column:795},end:{line:1,column:1191}},5:{start:{line:1,column:890},end:{line:1,column:1186}},6:{start:{line:1,column:1709},end:{line:1,column:1736}},7:{start:{line:2,column:32},end:{line:2,column:102}},8:{start:{line:2,column:200},end:{line:2,column:270}},9:{start:{line:2,column:814},end:{line:2,column:1061}},10:{start:{line:2,column:1102},end:{line:2,column:1141}},11:{start:{line:2,column:1492},end:{line:2,column:1739}},12:{start:{line:2,column:1791},end:{line:2,column:1923}},13:{start:{line:2,column:1845},end:{line:2,column:1917}},14:{start:{line:4,column:22},end:{line:4,column:24}}},fnMap:{0:{name:"render",decl:{start:{line:1,column:22},end:{line:1,column:28}},loc:{start:{line:1,column:30},end:{line:3,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:1,column:777},end:{line:1,column:778}},loc:{start:{line:1,column:794},end:{line:1,column:1192}},line:1},2:{name:"(anonymous_2)",decl:{start:{line:1,column:871},end:{line:1,column:872}},loc:{start:{line:1,column:889},end:{line:1,column:1187}},line:1},3:{name:"(anonymous_3)",decl:{start:{line:1,column:1692},end:{line:1,column:1693}},loc:{start:{line:1,column:1708},end:{line:2,column:103}},line:1},4:{name:"(anonymous_4)",decl:{start:{line:2,column:183},end:{line:2,column:184}},loc:{start:{line:2,column:199},end:{line:2,column:271}},line:2},5:{name:"(anonymous_5)",decl:{start:{line:2,column:803},end:{line:2,column:804}},loc:{start:{line:2,column:813},end:{line:2,column:1062}},line:2},6:{name:"(anonymous_6)",decl:{start:{line:2,column:1091},end:{line:2,column:1092}},loc:{start:{line:2,column:1101},end:{line:2,column:1142}},line:2},7:{name:"(anonymous_7)",decl:{start:{line:2,column:1481},end:{line:2,column:1482}},loc:{start:{line:2,column:1491},end:{line:2,column:1740}},line:2},8:{name:"(anonymous_8)",decl:{start:{line:2,column:1775},end:{line:2,column:1776}},loc:{start:{line:2,column:1790},end:{line:2,column:1924}},line:2},9:{name:"(anonymous_9)",decl:{start:{line:2,column:1829},end:{line:2,column:1830}},loc:{start:{line:2,column:1844},end:{line:2,column:1918}},line:2}},branchMap:{0:{loc:{start:{line:1,column:539},end:{line:1,column:1193}},type:"cond-expr",locations:[{start:{line:1,column:563},end:{line:1,column:753}},{start:{line:1,column:754},end:{line:1,column:1193}}],line:1}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cc4e05bb6725b909c5ab4ce1e398b833a3755506"},i=t[a]||(t[a]={});i[n]&&i[n].hash===e||(i[n]=l);var o=i[n];return s=function(){return o},o}t.r(e),t.d(e,{default:function(){return v}}),s(),s().s[0]++;var a=function(){s().f[0]++;var n=(s().s[1]++,this),e=(s().s[2]++,n._self._c);return s().s[3]++,e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-12"},[e("h2",[n._v("/"+n._s(this.datasetName))]),e("div",{staticClass:"card"},[e("nav",{staticClass:"card-header"},[e("Menu",{attrs:{"dataset-name":n.datasetName}})],1),e("div",{staticClass:"card-body"},[e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6"},[e("h3",{staticClass:"text-center"},[n._v("Available Services")]),null==this.services?(s().b[0][0]++,e("p",{staticClass:"card-text placeholder-glow"},[e("span",{staticClass:"placeholder col-12"}),e("span",{staticClass:"placeholder col-12"}),e("span",{staticClass:"placeholder col-12"})])):(s().b[0][1]++,n._l(this.services,(function(t){return s().f[1]++,s().s[4]++,e("div",{key:t["srv.type"]},n._l(t["srv.endpoints"],(function(a){return s().f[2]++,s().s[5]++,e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-6 text-right"},[n._v(n._s(t["srv.description"]))]),e("div",{staticClass:"col-6"},[e("a",{attrs:{href:`/${n.datasetName}/${a}`}},[n._v(" /"+n._s(n.datasetName)+"/"+n._s(a)+" ")])])])})),0)}))),e("div",{staticClass:"row my-4"},[e("div",{staticClass:"col-12 text-center"},[e("h3",[n._v("Dataset size")]),e("div",{staticClass:"mb-2"},[e("div",{attrs:{hidden:""}},[e("div",{ref:"count-triples-content"},[e("div",{staticClass:"text-center"},[e("div",{staticClass:"alert alert-warning"},[n._v("This may be slow and impose a significant load on large datasets.")]),e("button",{staticClass:"btn btn-primary me-2",attrs:{id:"count-triples-submit-button",type:"button"},on:{click:function(e){s().f[3]++,s().s[6]++,n.countTriplesInGraphs(),s().s[7]++,n.$refs["count-triples-button"].disabled=n.isDatasetStatsLoading}}},[n._v("submit")]),e("button",{staticClass:"btn btn-secondary",on:{click:function(e){s().f[4]++,s().s[8]++,n.$refs["count-triples-button"].disabled=n.isDatasetStatsLoading}}},[n._v("cancel")])])])]),e("button",{ref:"count-triples-button",staticClass:"btn btn-primary",attrs:{id:"count-triples-button",type:"button","data-bs-toggle":"popover","data-bs-placement":"auto","data-bs-trigger":"focus",title:"Confirm"}},[n._v(" count triples in all graphs ")])]),e("jena-table",{staticClass:"mt-3",attrs:{fields:n.countGraphFields,items:n.countGraphItems,busy:n.isDatasetSizeLoading,id:"dataset-size-table",bordered:"",hover:"",small:""},scopedSlots:n._u([{key:"table-busy",fn:function(){return s().f[5]++,s().s[9]++,[e("div",{staticClass:"text-center text-danger my-2"},[e("div",{staticClass:"spinner-border align-middle",attrs:{role:"status"}},[e("span",{staticClass:"visually-hidden"},[n._v("Loading...")])]),e("strong",[n._v("Loading...")])])]},proxy:!0},{key:"empty",fn:function(){return s().f[6]++,s().s[10]++,[e("span",[n._v("No data")])]},proxy:!0}])})],1)])],2),e("div",{staticClass:"col-sm-12 col-md-6"},[e("h3",{staticClass:"text-center"},[n._v("Statistics")]),e("jena-table",{attrs:{fields:n.statsFields,items:n.statsItems,busy:n.isDatasetStatsLoading,id:"statistics-table",bordered:"",hover:"",small:""},scopedSlots:n._u([{key:"table-busy",fn:function(){return s().f[7]++,s().s[11]++,[e("div",{staticClass:"text-center text-danger my-2"},[e("div",{staticClass:"spinner-border align-middle",attrs:{role:"status"}},[e("span",{staticClass:"visually-hidden"},[n._v("Loading...")])]),e("strong",[n._v("Loading...")])])]},proxy:!0},{key:"custom-foot",fn:function(t){return s().f[8]++,s().s[12]++,[e("tr",n._l(t.fields,(function(t){return s().f[9]++,s().s[13]++,e("th",{key:t.key},[n._v(n._s(n.overall[t.key]))])})),0)]}}])})],1)])])])])])])])},l=(s().s[14]++,[]),i=t(8465),o=t(2325),c=t(3936),r=t(8877),d=t(4835);function u(){var n="/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/src/views/dataset/Info.vue",e="b8fadda1f7f9732c3b633123fc09fe7311f36993",t=new Function("return this")(),s="__coverage__",a={path:"/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/src/views/dataset/Info.vue",statementMap:{0:{start:{line:21,column:4},end:{line:63,column:5}},1:{start:{line:68,column:6},end:{line:70,column:7}},2:{start:{line:69,column:8},end:{line:69,column:17}},3:{start:{line:71,column:22},end:{line:71,column:72}},4:{start:{line:72,column:24},end:{line:72,column:41}},5:{start:{line:73,column:6},end:{line:75,column:7}},6:{start:{line:74,column:8},end:{line:74,column:17}},7:{start:{line:77,column:20},end:{line:87,column:10}},8:{start:{line:79,column:27},end:{line:79,column:155}},9:{start:{line:80,column:10},end:{line:86,column:11}},10:{start:{line:88,column:6},end:{line:90,column:8}},11:{start:{line:89,column:8},end:{line:89,column:60}},12:{start:{line:91,column:6},end:{line:91,column:18}},13:{start:{line:94,column:6},end:{line:96,column:7}},14:{start:{line:95,column:8},end:{line:95,column:17}},15:{start:{line:97,column:22},end:{line:97,column:72}},16:{start:{line:98,column:6},end:{line:103,column:7}},17:{start:{line:106,column:6},end:{line:108,column:7}},18:{start:{line:107,column:8},end:{line:107,column:17}},19:{start:{line:109,column:6},end:{line:115,column:10}},20:{start:{line:111,column:10},end:{line:114,column:11}},21:{start:{line:120,column:4},end:{line:122,column:6}},22:{start:{line:121,column:6},end:{line:121,column:27}},23:{start:{line:126,column:4},end:{line:126,column:27}},24:{start:{line:127,column:4},end:{line:127,column:10}},25:{start:{line:132,column:27},end:{line:135,column:5}},26:{start:{line:136,column:27},end:{line:136,column:61}},27:{start:{line:139,column:4},end:{line:139,column:47}},28:{start:{line:144,column:6},end:{line:144,column:38}},29:{start:{line:145,column:6},end:{line:154,column:7}},30:{start:{line:146,column:8},end:{line:146,column:140}},31:{start:{line:147,column:8},end:{line:147,column:79}},32:{start:{line:148,column:8},end:{line:148,column:87}},33:{start:{line:150,column:8},end:{line:150,column:33}},34:{start:{line:152,column:8},end:{line:152,column:41}},35:{start:{line:153,column:8},end:{line:153,column:79}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:10},end:{line:64,column:3}},line:20},1:{name:"(anonymous_1)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:18},end:{line:92,column:5}},line:67},2:{name:"(anonymous_2)",decl:{start:{line:78,column:13},end:{line:78,column:14}},loc:{start:{line:78,column:29},end:{line:87,column:9}},line:78},3:{name:"(anonymous_3)",decl:{start:{line:88,column:17},end:{line:88,column:18}},loc:{start:{line:88,column:34},end:{line:90,column:7}},line:88},4:{name:"(anonymous_4)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:15},end:{line:104,column:5}},line:93},5:{name:"(anonymous_5)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:23},end:{line:116,column:5}},line:105},6:{name:"(anonymous_6)",decl:{start:{line:110,column:13},end:{line:110,column:14}},loc:{start:{line:110,column:20},end:{line:115,column:9}},line:110},7:{name:"(anonymous_7)",decl:{start:{line:119,column:2},end:{line:119,column:3}},loc:{start:{line:119,column:36},end:{line:123,column:3}},line:119},8:{name:"(anonymous_8)",decl:{start:{line:120,column:9},end:{line:120,column:10}},loc:{start:{line:120,column:21},end:{line:122,column:5}},line:120},9:{name:"(anonymous_9)",decl:{start:{line:125,column:2},end:{line:125,column:3}},loc:{start:{line:125,column:43},end:{line:128,column:3}},line:125},10:{name:"(anonymous_10)",decl:{start:{line:130,column:11},end:{line:130,column:12}},loc:{start:{line:130,column:23},end:{line:140,column:3}},line:130},11:{name:"(anonymous_11)",decl:{start:{line:143,column:4},end:{line:143,column:5}},loc:{start:{line:143,column:34},end:{line:155,column:5}},line:143}},branchMap:{0:{loc:{start:{line:68,column:6},end:{line:70,column:7}},type:"if",locations:[{start:{line:68,column:6},end:{line:70,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:68},1:{loc:{start:{line:68,column:10},end:{line:68,column:59}},type:"binary-expr",locations:[{start:{line:68,column:10},end:{line:68,column:28}},{start:{line:68,column:32},end:{line:68,column:59}}],line:68},2:{loc:{start:{line:73,column:6},end:{line:75,column:7}},type:"if",locations:[{start:{line:73,column:6},end:{line:75,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:73},3:{loc:{start:{line:73,column:10},end:{line:73,column:32}},type:"binary-expr",locations:[{start:{line:73,column:10},end:{line:73,column:18}},{start:{line:73,column:22},end:{line:73,column:32}}],line:73},4:{loc:{start:{line:79,column:27},end:{line:79,column:155}},type:"cond-expr",locations:[{start:{line:79,column:59},end:{line:79,column:117}},{start:{line:79,column:120},end:{line:79,column:155}}],line:79},5:{loc:{start:{line:94,column:6},end:{line:96,column:7}},type:"if",locations:[{start:{line:94,column:6},end:{line:96,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:94},6:{loc:{start:{line:94,column:10},end:{line:94,column:59}},type:"binary-expr",locations:[{start:{line:94,column:10},end:{line:94,column:28}},{start:{line:94,column:32},end:{line:94,column:59}}],line:94},7:{loc:{start:{line:106,column:6},end:{line:108,column:7}},type:"if",locations:[{start:{line:106,column:6},end:{line:108,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:106}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,sources:["Info.vue"],names:[],mappings:";AAqJA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",file:"Info.vue",sourceRoot:"src/views/dataset",sourcesContent:['\x3c!--\n   Licensed to the Apache Software Foundation (ASF) under one or more\n   contributor license agreements.  See the NOTICE file distributed with\n   this work for additional information regarding copyright ownership.\n   The ASF licenses this file to You under the Apache License, Version 2.0\n   (the "License"); you may not use this file except in compliance with\n   the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an "AS IS" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n--\x3e\n\n<template>\n  <div class="container-fluid">\n    <div class="row mt-4">\n      <div class="col-12">\n        <h2>/{{ this.datasetName }}</h2>\n        <div class="card">\n          <nav class="card-header">\n            <Menu :dataset-name="datasetName" />\n          </nav>\n          <div class="card-body">\n            <div>\n              <div class="row">\n                <div class="col-sm-12 col-md-6">\n                  <h3 class="text-center">Available Services</h3>\n                  <p class="card-text placeholder-glow" v-if="this.services == null">\n                    <span class="placeholder col-12"></span>\n                    <span class="placeholder col-12"></span>\n                    <span class="placeholder col-12"></span>\n                  </p>\n                  <div\n                    :key="service[\'srv.type\']"\n                    v-for="service in this.services"\n                    v-else\n                  >\n                    <div class="row" v-for="endpoint of service[\'srv.endpoints\']" :key="endpoint">\n                      <div class="col-6 text-right">{{ service[\'srv.description\'] }}</div>\n                      <div class="col-6">\n                        <a :href="`/${datasetName}/${endpoint}`">\n                          /{{ datasetName }}/{{ endpoint }}\n                        </a>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="row my-4">\n                    <div class="col-12 text-center">\n                      <h3>Dataset size</h3>\n                      <div class="mb-2">\n                        <div hidden>\n                          <div ref="count-triples-content">\n                            <div class="text-center">\n                              <div class="alert alert-warning">This may be slow and impose a significant load on large datasets.</div>\n                              <button\n                                @click="\n                                  countTriplesInGraphs();\n                                  $refs[\'count-triples-button\'].disabled = isDatasetStatsLoading\n                                "\n                                id="count-triples-submit-button"\n                                type="button"\n                                class="btn btn-primary me-2">submit</button>\n                              <button\n                                class="btn btn-secondary"\n                                @click="\n                                  $refs[\'count-triples-button\'].disabled = isDatasetStatsLoading\n                                "\n                              >cancel</button>\n                            </div>\n                          </div>\n                        </div>\n                        <button\n                          ref="count-triples-button"\n                          id="count-triples-button"\n                          type="button"\n                          class="btn btn-primary"\n                          data-bs-toggle="popover"\n                          data-bs-placement="auto"\n                          data-bs-trigger="focus"\n                          title="Confirm"\n                        >\n                          count triples in all graphs\n                        </button>\n                      </div>\n                      <jena-table\n                        :fields="countGraphFields"\n                        :items="countGraphItems"\n                        :busy="isDatasetSizeLoading"\n                        id="dataset-size-table"\n                        class="mt-3"\n                        bordered\n                        hover\n                        small\n                      >\n                        <template v-slot:table-busy>\n                          <div class="text-center text-danger my-2">\n                            <div class="spinner-border align-middle" role="status">\n                              <span class="visually-hidden">Loading...</span>\n                            </div>\n                            <strong>Loading...</strong>\n                          </div>\n                        </template>\n                        <template v-slot:empty>\n                          <span>No data</span>\n                        </template>\n                      </jena-table>\n                    </div>\n                  </div>\n                </div>\n                <div class="col-sm-12 col-md-6">\n                  <h3 class="text-center">Statistics</h3>\n                  <jena-table\n                    :fields="statsFields"\n                    :items="statsItems"\n                    :busy="isDatasetStatsLoading"\n                    id="statistics-table"\n                    bordered\n                    hover\n                    small\n                  >\n                    <template v-slot:table-busy>\n                      <div class="text-center text-danger my-2">\n                        <div class="spinner-border align-middle" role="status">\n                          <span class="visually-hidden">Loading...</span>\n                        </div>\n                        <strong>Loading...</strong>\n                      </div>\n                    </template>\n                    <template v-slot:custom-foot="scope">\n                      <tr>\n                        <th v-for="field in scope.fields" :key="field.key">{{ overall[field.key] }}</th>\n                      </tr>\n                    </template>\n                  </jena-table>\n                </div>\n              </div>\n           </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Menu from \'@/components/dataset/Menu\'\nimport { displayError } from \'@/utils\'\nimport currentDatasetMixin from \'@/mixins/current-dataset\'\nimport { Popover } from \'bootstrap\'\nimport JenaTable from \'@/components/dataset/JenaTable\'\n\nexport default {\n  name: \'DatasetInfo\',\n\n  components: {\n    JenaTable,\n    Menu\n  },\n\n  mixins: [\n    currentDatasetMixin\n  ],\n\n  data () {\n    return {\n      datasetStats: {},\n      datasetSize: null,\n      isDatasetSizeLoading: false,\n      statsFields: [\n        {\n          key: \'endpoint\',\n          label: \'Endpoint\'\n        },\n        {\n          key: \'total\',\n          label: \'Requests\',\n          sortable: true,\n          sortDirection: \'asc\'\n        },\n        {\n          key: \'good\',\n          label: \'Good\',\n          sortable: true,\n          sortDirection: \'asc\'\n        },\n        {\n          key: \'bad\',\n          label: \'Bad\',\n          sortable: true,\n          sortDirection: \'asc\'\n        }\n      ],\n      countGraphFields: [\n        {\n          key: \'name\',\n          label: \'graph name\',\n          sortable: true,\n          sortDirection: \'asc\'\n        },\n        {\n          key: \'triples\',\n          label: \'triples\',\n          sortable: true,\n          sortDirection: \'asc\'\n        }\n      ]\n    }\n  },\n\n  computed: {\n    statsItems () {\n      if (!this.datasetStats || !this.datasetStats.datasets) {\n        return []\n      }\n      const dataset = this.datasetStats.datasets[`/${this.datasetName}`]\n      const endpoints = dataset.endpoints\n      if (!dataset || !endpoints) {\n        return []\n      }\n      // collect the stats of each endpoint\n      const items = Object.keys(endpoints)\n        .map(endpointName => {\n          const endpoint = !endpointName.startsWith(\'_\') ? `${endpoints[endpointName].description} (${endpointName})` : endpoints[endpointName].description\n          return {\n            endpoint: endpoint,\n            operation: endpoints[endpointName].operation,\n            total: endpoints[endpointName].Requests,\n            good: endpoints[endpointName].RequestsGood,\n            bad: endpoints[endpointName].RequestsBad\n          }\n        })\n      items.sort((left, right) => {\n        return left.operation.localeCompare(right.operation)\n      })\n      return items\n    },\n    overall () {\n      if (!this.datasetStats || !this.datasetStats.datasets) {\n        return []\n      }\n      const dataset = this.datasetStats.datasets[`/${this.datasetName}`]\n      return {\n        endpoint: \'Overall\',\n        total: dataset.Requests,\n        good: dataset.RequestsGood,\n        bad: dataset.RequestsBad\n      }\n    },\n    countGraphItems () {\n      if (!this.datasetSize) {\n        return []\n      }\n      return Object.keys(this.datasetSize)\n        .map(key => {\n          return {\n            name: key,\n            triples: this.datasetSize[key]\n          }\n        })\n    }\n  },\n\n  beforeRouteEnter (from, to, next) {\n    next(async vm => {\n      vm.datasetSize = null\n    })\n  },\n\n  async beforeRouteUpdate (from, to, next) {\n    this.datasetSize = null\n    next()\n  },\n\n  mounted: function () {\n    // Initialize the Bootstrap Popover\n    const popoverOptions = {\n      html: true,\n      content: this.$refs[\'count-triples-content\']\n    }\n    const popoverElement = this.$refs[\'count-triples-button\']\n    // TBD: will it be garbage collected?\n    // eslint-disable-next-line no-new\n    new Popover(popoverElement, popoverOptions)\n  },\n\n  methods: {\n    async countTriplesInGraphs () {\n      this.isDatasetSizeLoading = true\n      try {\n        this.datasetSize = await this.$fusekiService.getDatasetSize(this.currentDataset[\'ds.name\'], this.services.query[\'srv.endpoints\'][0])\n        this.$refs[\'count-triples-button\'].disabled = this.isDatasetSizeLoading\n        this.datasetStats = await this.$fusekiService.getDatasetStats(this.datasetName)\n      } catch (error) {\n        displayError(this, error)\n      } finally {\n        this.isDatasetSizeLoading = false\n        this.$refs[\'count-triples-button\'].disabled = this.isDatasetSizeLoading\n      }\n    }\n  }\n}\n<\/script>\n']},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b8fadda1f7f9732c3b633123fc09fe7311f36993"},l=t[s]||(t[s]={});l[n]&&l[n].hash===e||(l[n]=a);var i=l[n];return u=function(){return i},i}u();var A={name:"DatasetInfo",components:{JenaTable:d.Z,Menu:i.Z},mixins:[c.Z],data(){return u().f[0]++,u().s[0]++,{datasetStats:{},datasetSize:null,isDatasetSizeLoading:!1,statsFields:[{key:"endpoint",label:"Endpoint"},{key:"total",label:"Requests",sortable:!0,sortDirection:"asc"},{key:"good",label:"Good",sortable:!0,sortDirection:"asc"},{key:"bad",label:"Bad",sortable:!0,sortDirection:"asc"}],countGraphFields:[{key:"name",label:"graph name",sortable:!0,sortDirection:"asc"},{key:"triples",label:"triples",sortable:!0,sortDirection:"asc"}]}},computed:{statsItems(){if(u().f[1]++,u().s[1]++,u().b[1][0]++,!this.datasetStats||(u().b[1][1]++,!this.datasetStats.datasets))return u().b[0][0]++,u().s[2]++,[];u().b[0][1]++;const n=(u().s[3]++,this.datasetStats.datasets[`/${this.datasetName}`]),e=(u().s[4]++,n.endpoints);if(u().s[5]++,u().b[3][0]++,!n||(u().b[3][1]++,!e))return u().b[2][0]++,u().s[6]++,[];u().b[2][1]++;const t=(u().s[7]++,Object.keys(e).map((n=>{u().f[2]++;const t=(u().s[8]++,n.startsWith("_")?(u().b[4][1]++,e[n].description):(u().b[4][0]++,`${e[n].description} (${n})`));return u().s[9]++,{endpoint:t,operation:e[n].operation,total:e[n].Requests,good:e[n].RequestsGood,bad:e[n].RequestsBad}})));return u().s[10]++,t.sort(((n,e)=>(u().f[3]++,u().s[11]++,n.operation.localeCompare(e.operation)))),u().s[12]++,t},overall(){if(u().f[4]++,u().s[13]++,u().b[6][0]++,!this.datasetStats||(u().b[6][1]++,!this.datasetStats.datasets))return u().b[5][0]++,u().s[14]++,[];u().b[5][1]++;const n=(u().s[15]++,this.datasetStats.datasets[`/${this.datasetName}`]);return u().s[16]++,{endpoint:"Overall",total:n.Requests,good:n.RequestsGood,bad:n.RequestsBad}},countGraphItems(){return u().f[5]++,u().s[17]++,this.datasetSize?(u().b[7][1]++,u().s[19]++,Object.keys(this.datasetSize).map((n=>(u().f[6]++,u().s[20]++,{name:n,triples:this.datasetSize[n]})))):(u().b[7][0]++,u().s[18]++,[])}},beforeRouteEnter(n,e,t){u().f[7]++,u().s[21]++,t((async n=>{u().f[8]++,u().s[22]++,n.datasetSize=null}))},async beforeRouteUpdate(n,e,t){u().f[9]++,u().s[23]++,this.datasetSize=null,u().s[24]++,t()},mounted:function(){u().f[10]++;const n=(u().s[25]++,{html:!0,content:this.$refs["count-triples-content"]}),e=(u().s[26]++,this.$refs["count-triples-button"]);u().s[27]++,new r.J2(e,n)},methods:{async countTriplesInGraphs(){u().f[11]++,u().s[28]++,this.isDatasetSizeLoading=!0,u().s[29]++;try{u().s[30]++,this.datasetSize=await this.$fusekiService.getDatasetSize(this.currentDataset["ds.name"],this.services.query["srv.endpoints"][0]),u().s[31]++,this.$refs["count-triples-button"].disabled=this.isDatasetSizeLoading,u().s[32]++,this.datasetStats=await this.$fusekiService.getDatasetStats(this.datasetName)}catch(n){u().s[33]++,(0,o.S)(this,n)}finally{u().s[34]++,this.isDatasetSizeLoading=!1,u().s[35]++,this.$refs["count-triples-button"].disabled=this.isDatasetSizeLoading}}}},m=A,p=t(1001),b=(0,p.Z)(m,a,l,!1,null,null,null),v=b.exports}}]);
//# sourceMappingURL=datasetInfo.4137aba9.js.map