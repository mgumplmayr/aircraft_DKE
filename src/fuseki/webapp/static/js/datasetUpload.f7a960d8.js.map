{"version":3,"file":"static/js/datasetUpload.f7a960d8.js","mappings":"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","sources":["webpack://apache-jena-fuseki/./src/views/dataset/Upload.vue","webpack://apache-jena-fuseki/src/views/dataset/Upload.vue","webpack://apache-jena-fuseki/./src/views/dataset/Upload.vue?bc0c","webpack://apache-jena-fuseki/./src/views/dataset/Upload.vue?310b","webpack://apache-jena-fuseki/./node_modules/vue-upload-component/dist/vue-upload-component.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col-12\"},[_c('h2',[_vm._v(\"/\"+_vm._s(this.datasetName))]),_c('div',{staticClass:\"card\"},[_c('nav',{staticClass:\"card-header\"},[_c('Menu',{attrs:{\"dataset-name\":_vm.datasetName}})],1),(this.services !== null && (!this.services['gsp-rw'] || this.services['gsp-rw'].length === 0))?_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"alert alert-warning\"},[_vm._v(\"No service for adding data available. The Graph Store Protocol service should be configured to allow adding data.\")])]):_c('div',{staticClass:\"card-body\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$refs.upload && _vm.$refs.upload.dropActive),expression:\"$refs.upload && $refs.upload.dropActive\"}],staticClass:\"drop-active\"},[_c('h3',[_vm._v(\"Drop files to upload\")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('h3',[_vm._v(\"Upload files\")]),_c('p',[_vm._v(\"Load data into the default graph of the currently selected dataset, or the given named graph. You may upload any RDF format, such as Turtle, RDF/XML or TRiG.\")]),_c('form',{ref:\"upload-form\",attrs:{\"novalidate\":\"\"}},[_c('div',{staticClass:\"form-row form-group\",attrs:{\"id\":\"dataset-graph-name-group\",\"role\":\"group\"}},[_c('label',{staticClass:\"col-sm-4 col-md-4 col-lg-2 col-12 col-form-label col-form-label-sm\",attrs:{\"for\":\"dataset-graph-name\"}},[_vm._v(\"Dataset graph name\")]),_c('div',{staticClass:\"col input-group has-validation\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datasetGraphName),expression:\"datasetGraphName\"}],ref:\"dataset-graph-name\",class:_vm.graphNameClasses,attrs:{\"id\":\"dataset-graph-name\",\"type\":\"text\",\"placeholder\":\"Leave blank for default graph\"},domProps:{\"value\":(_vm.datasetGraphName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.datasetGraphName=$event.target.value}}}),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Invalid graph name. Please remove any spaces. \")])])]),_c('div',{staticClass:\"form-row form-group\",attrs:{\"id\":\"dataset-files\",\"role\":\"group\"}},[_c('label',{staticClass:\"col-sm-4 col-md-4 col-lg-2 col-12 col-form-label col-form-label-sm\",attrs:{\"for\":\"add-files-action-dropdown\"}},[_vm._v(\"Files to upload\")]),_c('div',{staticClass:\"col has-validation\"},[_c('file-upload',{ref:\"upload\",class:_vm.fileUploadClasses,attrs:{\"post-action\":_vm.postActionUrl,\"extensions\":_vm.upload.extensions,\"accept\":_vm.upload.accept,\"multiple\":_vm.upload.multiple,\"directory\":_vm.upload.directory,\"size\":_vm.upload.size || 0,\"thread\":_vm.upload.thread < 1 ? 1 : (_vm.upload.thread > 5 ? 5 : _vm.upload.thread),\"headers\":_vm.upload.headers,\"data\":_vm.upload.data,\"drop\":_vm.upload.drop,\"drop-directory\":_vm.upload.dropDirectory,\"add-index\":_vm.upload.addIndex},model:{value:(_vm.upload.files),callback:function ($$v) {_vm.$set(_vm.upload, \"files\", $$v)},expression:\"upload.files\"}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"plus\"}}),_c('span',{staticClass:\"ms-2\"},[_vm._v(\"select files\")])],1),(!_vm.$refs.upload || !_vm.$refs.upload.active)?_c('button',{staticClass:\"btn btn-primary ms-2 d-inline\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.uploadAll()}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"upload\"}}),_c('span',{staticClass:\"ms-2\"},[_vm._v(\"upload all\")])],1):_c('button',{staticClass:\"btn btn-primary ms-2 d-inline\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();_vm.$refs.upload.active = false}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"times-circle\"}}),_c('span',{staticClass:\"ms-2\"},[_vm._v(\"stop upload\")])],1),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Invalid upload files. Please select at least one file to upload. \")])],1)])])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('jena-table',{attrs:{\"fields\":_vm.datasetTableFields,\"items\":_vm.datasetTableItems,\"empty-text\":\"No files selected\",\"bordered\":\"\",\"fixed\":\"\",\"hover\":\"\"},scopedSlots:_vm._u([{key:\"cell(size)\",fn:function(data){return [_vm._v(\" \"+_vm._s(_vm.readableFileSize(data.item.size))+\" \")]}},{key:\"cell(speed)\",fn:function(data){return [_vm._v(\" \"+_vm._s(_vm.readableFileSize(data.item.speed))+\"/s \")]}},{key:\"cell(status)\",fn:function(data){return [_c('div',{staticClass:\"progress\"},[_c('div',{class:`progress-bar bg-${_vm.getFileStatus(data.item)}`,style:(`width: ${data.item.progress}%`),attrs:{\"aria-valuenow\":`${data.item.progress}`,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\",\"role\":\"progressbar\"}},[_vm._v(_vm._s(data.item.progress))])]),_c('span',{staticClass:\"small\"},[_vm._v(\"Triples uploaded:Â \")]),(data.item.response.tripleCount)?_c('span',{staticClass:\"small\"},[_vm._v(\" \"+_vm._s(data.item.response.tripleCount)+\" \")]):_c('span',{staticClass:\"small\"},[_vm._v(\"0\")])]}},{key:\"cell(actions)\",fn:function(data){return [_c('button',{staticClass:\"btn btn-outline-primary me-0 mb-2 d-block\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();data.item.success || data.item.error === 'compressing' ? false : _vm.$refs.upload.update(data.item, {active: true})}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"upload\"}}),_c('span',{staticClass:\"ms-2\"},[_vm._v(\"upload now\")])],1),_c('button',{staticClass:\"btn btn-outline-primary me-0 mb-md-0 d-block d-md-inline-block\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.remove(data.item)}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"minus-circle\"}}),_c('span',{staticClass:\"ms-2\"},[_vm._v(\"remove\")])],1)]}}])})],1)])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n   Licensed to the Apache Software Foundation (ASF) under one or more\n   contributor license agreements.  See the NOTICE file distributed with\n   this work for additional information regarding copyright ownership.\n   The ASF licenses this file to You under the Apache License, Version 2.0\n   (the \"License\"); you may not use this file except in compliance with\n   the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n-->\n\n<template>\n  <div class=\"container-fluid\">\n    <div class=\"row mt-4\">\n      <div class=\"col-12\">\n        <h2>/{{ this.datasetName }}</h2>\n        <div class=\"card\">\n          <nav class=\"card-header\">\n            <Menu :dataset-name=\"datasetName\" />\n          </nav>\n          <div class=\"card-body\" v-if=\"this.services !== null && (!this.services['gsp-rw'] || this.services['gsp-rw'].length === 0)\">\n            <div class=\"alert alert-warning\">No service for adding data available. The Graph Store Protocol service should be configured to allow adding data.</div>\n          </div>\n          <div class=\"card-body\" v-else>\n            <div v-show=\"$refs.upload && $refs.upload.dropActive\" class=\"drop-active\">\n              <h3>Drop files to upload</h3>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-sm-12\">\n                <h3>Upload files</h3>\n                <p>Load data into the default graph of the currently selected dataset, or the given named graph.\n                  You may upload any RDF format, such as Turtle, RDF/XML or TRiG.</p>\n                <form ref=\"upload-form\" novalidate>\n                  <div\n                    id=\"dataset-graph-name-group\"\n                    role=\"group\"\n                    class=\"form-row form-group\"\n                  >\n                    <label\n                      for=\"dataset-graph-name\"\n                      class=\"col-sm-4 col-md-4 col-lg-2 col-12 col-form-label col-form-label-sm\"\n                    >Dataset graph name</label>\n                    <div class=\"col input-group has-validation\">\n                      <input\n                        v-model=\"datasetGraphName\"\n                        :class=\"graphNameClasses\"\n                        id=\"dataset-graph-name\"\n                        ref=\"dataset-graph-name\"\n                        type=\"text\"\n                        placeholder=\"Leave blank for default graph\"\n                      />\n                      <div class=\"invalid-feedback\">\n                        Invalid graph name. Please remove any spaces.\n                      </div>\n                    </div>\n                  </div>\n                  <div\n                    id=\"dataset-files\"\n                    role=\"group\"\n                    class=\"form-row form-group\"\n                  >\n                    <label\n                      for=\"add-files-action-dropdown\"\n                      class=\"col-sm-4 col-md-4 col-lg-2 col-12 col-form-label col-form-label-sm\"\n                    >Files to upload</label>\n                    <div class=\"col has-validation\">\n                      <file-upload\n                        ref=\"upload\"\n                        v-model=\"upload.files\"\n                        :post-action=\"postActionUrl\"\n                        :extensions=\"upload.extensions\"\n                        :accept=\"upload.accept\"\n                        :multiple=\"upload.multiple\"\n                        :directory=\"upload.directory\"\n                        :size=\"upload.size || 0\"\n                        :thread=\"upload.thread < 1 ? 1 : (upload.thread > 5 ? 5 : upload.thread)\"\n                        :headers=\"upload.headers\"\n                        :data=\"upload.data\"\n                        :drop=\"upload.drop\"\n                        :drop-directory=\"upload.dropDirectory\"\n                        :add-index=\"upload.addIndex\"\n                        :class=\"fileUploadClasses\"\n                      >\n                        <FontAwesomeIcon icon=\"plus\" />\n                        <span class=\"ms-2\">select files</span>\n                      </file-upload>\n                      <button\n                        v-if=\"!$refs.upload || !$refs.upload.active\"\n                        @click.prevent=\"uploadAll()\"\n                        type=\"button\"\n                        class=\"btn btn-primary ms-2 d-inline\">\n                        <FontAwesomeIcon icon=\"upload\" />\n                        <span class=\"ms-2\">upload all</span>\n                      </button>\n                      <button\n                        v-else\n                        @click.prevent=\"$refs.upload.active = false\"\n                        type=\"button\"\n                        class=\"btn btn-primary ms-2 d-inline\">\n                        <FontAwesomeIcon icon=\"times-circle\" />\n                        <span class=\"ms-2\">stop upload</span>\n                      </button>\n                      <div class=\"invalid-feedback\">\n                        Invalid upload files. Please select at least one file to upload.\n                      </div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col\">\n                <jena-table\n                  :fields=\"datasetTableFields\"\n                  :items=\"datasetTableItems\"\n                  empty-text=\"No files selected\"\n                  bordered\n                  fixed\n                  hover\n                >\n                  <template v-slot:cell(size)=\"data\">\n                    {{ readableFileSize(data.item.size) }}\n                  </template>\n                  <template v-slot:cell(speed)=\"data\">\n                    {{ readableFileSize(data.item.speed) }}/s\n                  </template>\n                  <template v-slot:cell(status)=\"data\">\n                    <div class=\"progress\">\n                      <div\n                        :class=\"`progress-bar bg-${getFileStatus(data.item)}`\"\n                        :style=\"`width: ${data.item.progress}%`\"\n                        :aria-valuenow=\"`${data.item.progress}`\"\n                        aria-valuemin=\"0\"\n                        aria-valuemax=\"100\"\n                        role=\"progressbar\"\n                      >{{ data.item.progress }}</div>\n                    </div>\n                    <span class=\"small\">Triples uploaded:&nbsp;</span>\n                    <span v-if=\"data.item.response.tripleCount\" class=\"small\">\n                      {{ data.item.response.tripleCount }}\n                    </span>\n                    <span v-else class=\"small\">0</span>\n                  </template>\n                  <template v-slot:cell(actions)=\"data\">\n                    <button\n                      @click.prevent=\"data.item.success || data.item.error === 'compressing' ? false : $refs.upload.update(data.item, {active: true})\"\n                      type=\"button\"\n                      class=\"btn btn-outline-primary me-0 mb-2 d-block\"\n                    >\n                      <FontAwesomeIcon icon=\"upload\" />\n                      <span class=\"ms-2\">upload now</span>\n                    </button>\n                    <button\n                      @click.prevent=\"remove(data.item)\"\n                      type=\"button\"\n                      class=\"btn btn-outline-primary me-0 mb-md-0 d-block d-md-inline-block\"\n                    >\n                      <FontAwesomeIcon icon=\"minus-circle\" />\n                      <span class=\"ms-2\">remove</span>\n                    </button>\n                  </template>\n                </jena-table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Menu from '@/components/dataset/Menu'\nimport FileUpload from 'vue-upload-component'\nimport JenaTable from '@/components/dataset/JenaTable'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faPlus, faUpload, faTimesCircle, faMinusCircle } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport currentDatasetMixin from '@/mixins/current-dataset'\n\nlibrary.add(faPlus, faUpload, faTimesCircle, faMinusCircle)\n\nexport default {\n  name: 'DatasetUpload',\n\n  components: {\n    Menu,\n    FontAwesomeIcon,\n    FileUpload,\n    JenaTable\n  },\n\n  mixins: [\n    currentDatasetMixin\n  ],\n\n  data () {\n    return {\n      datasetGraphName: null,\n      datasetFiles: null,\n      graphNameClasses: [\n        'form-control'\n      ],\n      fileUploadClasses: [\n        'btn',\n        'btn-success'\n      ],\n      upload: {\n        files: [],\n        accept: '', // e.g. 'ttl,xml,rdf,...'\n        minSize: 0,\n        // size: 1024 * 1024 * 10,\n        multiple: true,\n        directory: false,\n        drop: true,\n        dropDirectory: true,\n        addIndex: false,\n        thread: 3,\n        name: 'file',\n        headers: { // e.g. CSRF headers\n        },\n        data: {},\n        autoCompress: 1024 * 1024,\n        uploadAuto: false,\n        isOption: false\n        // addData: {\n        //   show: false,\n        //   name: '',\n        //   type: '',\n        //   content: ''\n        // },\n        // editFile: {\n        //   show: false,\n        //   name: ''\n        // }\n      },\n      datasetTableFields: [\n        {\n          key: 'name',\n          label: 'name',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'size',\n          label: 'size',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'speed',\n          label: 'speed'\n        },\n        {\n          key: 'status',\n          label: 'status'\n        },\n        {\n          key: 'actions',\n          label: 'actions'\n        }\n      ]\n    }\n  },\n\n  computed: {\n    datasetTableItems () {\n      if (!this.upload.files) {\n        return []\n      }\n      return this.upload.files\n        .map(file => {\n          return Object.assign(file, {\n            status: this.getFileStatus(file)\n          })\n        })\n    },\n    postActionUrl () {\n      if (this.services === null || !this.services['gsp-rw'] || this.services['gsp-rw'].length === 0) {\n        return ''\n      }\n      const params = (this.datasetGraphName && this.datasetGraphName !== '') ? `?graph=${this.datasetGraphName}` : ''\n      const dataEndpoint = this.services['gsp-rw']['srv.endpoints'].find(endpoint => endpoint !== '') || ''\n      return this.$fusekiService.getFusekiUrl(`/${this.datasetName}/${dataEndpoint}${params}`)\n    }\n  },\n\n  watch: {\n    datasetGraphName () {\n      this.validateGraphName()\n    },\n    upload: {\n      handler () {\n        this.validateFiles()\n      },\n      deep: true,\n      immediate: false\n    }\n  },\n\n  methods: {\n    getFileStatus (file) {\n      if (file.error) {\n        // eslint-disable-next-line no-console\n        console.error(file)\n        return 'danger'\n      }\n      if (file.success) {\n        return 'success'\n      }\n      if (file.active) {\n        return 'warning'\n      }\n      return ''\n    },\n    remove (file) {\n      this.$refs.upload.remove(file)\n    },\n    /**\n     * Return file size in bytes in a human-readable form.\n     *\n     * Copied from the Backbone.js code with modifications.\n     *\n     * Replaced sprintf usage by .toFixed(2).\n     */\n    readableFileSize: function (size) {\n      const k = 1024\n      const m = k * k\n\n      if (size >= m) {\n        return `${(size / m).toFixed(2).replace(/\\.?0*$/, '')}mb`\n      } else if (size >= k) {\n        return `${(size / k).toFixed(2).replace(/\\.?0*$/, '')}kb`\n      } else {\n        return `${size} bytes`\n      }\n    },\n    uploadAll () {\n      if (this.validateForm()) {\n        this.$refs.upload.active = true\n      }\n    },\n    validateForm () {\n      return this.validateGraphName() && this.validateFiles()\n    },\n    validateGraphName () {\n      // No spaces allowed in graph names.\n      const pattern = /^[^\\s]+$/\n      const graphName = this.$refs['dataset-graph-name'].value\n      if (graphName === '' || pattern.test(graphName)) {\n        this.graphNameClasses = ['form-control is-valid']\n        return true\n      }\n      this.graphNameClasses = ['form-control is-invalid']\n      return false\n    },\n    validateFiles () {\n      if (this.upload.files !== null && this.upload.files.length > 0) {\n        this.fileUploadClasses = [\n          'btn',\n          'btn-success',\n          'is-valid'\n        ]\n        return true\n      }\n      this.fileUploadClasses = [\n        'btn',\n        'btn-success',\n        'is-invalid'\n      ]\n      return false\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upload.vue?vue&type=template&id=9516649e&\"\nimport script from \"./Upload.vue?vue&type=script&lang=js&\"\nexport * from \"./Upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\n * Name: vue-upload-component\n * Version: 2.8.21\n * Author: Marco Lang\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.VueUploadComponent = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * Creates a XHR request\n   *\n   * @param {Object} options\n   */\n  var createRequest = function createRequest(options) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(options.method || 'GET', options.url);\n    xhr.responseType = 'json';\n    if (options.headers) {\n      Object.keys(options.headers).forEach(function (key) {\n        xhr.setRequestHeader(key, options.headers[key]);\n      });\n    }\n\n    return xhr;\n  };\n\n  /**\n   * Sends a XHR request with certain body\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} body\n   */\n  var sendRequest = function sendRequest(xhr, body) {\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n      xhr.send(JSON.stringify(body));\n    });\n  };\n\n  /**\n   * Sends a XHR request with certain form data\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} data\n   */\n  var sendFormRequest = function sendFormRequest(xhr, data) {\n    var body = new FormData();\n    for (var name in data) {\n      body.append(name, data[name]);\n    }\n\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n      xhr.send(body);\n    });\n  };\n\n  /**\n   * Creates and sends XHR request\n   *\n   * @param {Object} options\n   *\n   * @returns Promise\n   */\n  function request (options) {\n    var xhr = createRequest(options);\n\n    return sendRequest(xhr, options.body);\n  }\n\n  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  var ChunkUploadHandler = function () {\n    /**\n     * Constructor\n     *\n     * @param {File} file\n     * @param {Object} options\n     */\n    function ChunkUploadHandler(file, options) {\n      _classCallCheck(this, ChunkUploadHandler);\n\n      this.file = file;\n      this.options = options;\n      this.chunks = [];\n      this.sessionId = null;\n      this.chunkSize = null;\n      this.speedInterval = null;\n    }\n\n    /**\n     * Gets the max retries from options\n     */\n\n\n    _createClass(ChunkUploadHandler, [{\n      key: 'createChunks',\n\n\n      /**\n       * Creates all the chunks in the initial state\n       */\n      value: function createChunks() {\n        this.chunks = [];\n\n        var start = 0;\n        var end = this.chunkSize;\n        while (start < this.fileSize) {\n          this.chunks.push({\n            blob: this.file.file.slice(start, end),\n            startOffset: start,\n            active: false,\n            retries: this.maxRetries\n          });\n          start = end;\n          end = start + this.chunkSize;\n        }\n      }\n\n      /**\n       * Updates the progress of the file with the handler's progress\n       */\n\n    }, {\n      key: 'updateFileProgress',\n      value: function updateFileProgress() {\n        this.file.progress = this.progress;\n      }\n\n      /**\n       * Paues the upload process\n       * - Stops all active requests\n       * - Sets the file not active\n       */\n\n    }, {\n      key: 'pause',\n      value: function pause() {\n        this.file.active = false;\n        this.stopChunks();\n      }\n\n      /**\n       * Stops all the current chunks\n       */\n\n    }, {\n      key: 'stopChunks',\n      value: function stopChunks() {\n        this.chunksUploading.forEach(function (chunk) {\n          chunk.xhr.abort();\n          chunk.active = false;\n        });\n\n        this.stopSpeedCalc();\n      }\n\n      /**\n       * Resumes the file upload\n       * - Sets the file active\n       * - Starts the following chunks\n       */\n\n    }, {\n      key: 'resume',\n      value: function resume() {\n        this.file.active = true;\n        this.startChunking();\n      }\n\n      /**\n       * Starts the file upload\n       *\n       * @returns Promise\n       * - resolve  The file was uploaded\n       * - reject   The file upload failed\n       */\n\n    }, {\n      key: 'upload',\n      value: function upload() {\n        var _this = this;\n\n        this.promise = new Promise(function (resolve, reject) {\n          _this.resolve = resolve;\n          _this.reject = reject;\n        });\n        this.start();\n\n        return this.promise;\n      }\n\n      /**\n       * Start phase\n       * Sends a request to the backend to initialise the chunks\n       */\n\n    }, {\n      key: 'start',\n      value: function start() {\n        var _this2 = this;\n\n        request({\n          method: 'POST',\n          headers: Object.assign({}, this.headers, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.startBody, {\n            phase: 'start',\n            mime_type: this.fileType,\n            size: this.fileSize,\n            name: this.fileName\n          })\n        }).then(function (res) {\n          if (res.status !== 'success') {\n            _this2.file.response = res;\n            return _this2.reject('server');\n          }\n\n          _this2.sessionId = res.data.session_id;\n          _this2.chunkSize = res.data.end_offset;\n\n          _this2.createChunks();\n          _this2.startChunking();\n        }).catch(function (res) {\n          _this2.file.response = res;\n          _this2.reject('server');\n        });\n      }\n\n      /**\n       * Starts to upload chunks\n       */\n\n    }, {\n      key: 'startChunking',\n      value: function startChunking() {\n        for (var i = 0; i < this.maxActiveChunks; i++) {\n          this.uploadNextChunk();\n        }\n\n        this.startSpeedCalc();\n      }\n\n      /**\n       * Uploads the next chunk\n       * - Won't do anything if the process is paused\n       * - Will start finish phase if there are no more chunks to upload\n       */\n\n    }, {\n      key: 'uploadNextChunk',\n      value: function uploadNextChunk() {\n        if (this.file.active) {\n          if (this.hasChunksToUpload) {\n            return this.uploadChunk(this.chunksToUpload[0]);\n          }\n\n          if (this.chunksUploading.length === 0) {\n            return this.finish();\n          }\n        }\n      }\n\n      /**\n       * Uploads a chunk\n       * - Sends the chunk to the backend\n       * - Sets the chunk as uploaded if everything went well\n       * - Decreases the number of retries if anything went wrong\n       * - Fails if there are no more retries\n       *\n       * @param {Object} chunk\n       */\n\n    }, {\n      key: 'uploadChunk',\n      value: function uploadChunk(chunk) {\n        var _this3 = this;\n\n        chunk.progress = 0;\n        chunk.active = true;\n        this.updateFileProgress();\n        chunk.xhr = createRequest({\n          method: 'POST',\n          headers: this.headers,\n          url: this.action\n        });\n\n        chunk.xhr.upload.addEventListener('progress', function (evt) {\n          if (evt.lengthComputable) {\n            chunk.progress = Math.round(evt.loaded / evt.total * 100);\n          }\n        }, false);\n\n        sendFormRequest(chunk.xhr, Object.assign(this.uploadBody, {\n          phase: 'upload',\n          session_id: this.sessionId,\n          start_offset: chunk.startOffset,\n          chunk: chunk.blob\n        })).then(function (res) {\n          chunk.active = false;\n          if (res.status === 'success') {\n            chunk.uploaded = true;\n          } else {\n            if (chunk.retries-- <= 0) {\n              _this3.stopChunks();\n              return _this3.reject('upload');\n            }\n          }\n\n          _this3.uploadNextChunk();\n        }).catch(function () {\n          chunk.active = false;\n          if (chunk.retries-- <= 0) {\n            _this3.stopChunks();\n            return _this3.reject('upload');\n          }\n\n          _this3.uploadNextChunk();\n        });\n      }\n\n      /**\n       * Finish phase\n       * Sends a request to the backend to finish the process\n       */\n\n    }, {\n      key: 'finish',\n      value: function finish() {\n        var _this4 = this;\n\n        this.updateFileProgress();\n        this.stopSpeedCalc();\n\n        request({\n          method: 'POST',\n          headers: Object.assign({}, this.headers, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.finishBody, {\n            phase: 'finish',\n            session_id: this.sessionId\n          })\n        }).then(function (res) {\n          _this4.file.response = res;\n          if (res.status !== 'success') {\n            return _this4.reject('server');\n          }\n\n          _this4.resolve(res);\n        }).catch(function (res) {\n          _this4.file.response = res;\n          _this4.reject('server');\n        });\n      }\n\n      /**\n       * Sets an interval to calculate and\n       * set upload speed every 3 seconds\n       */\n\n    }, {\n      key: 'startSpeedCalc',\n      value: function startSpeedCalc() {\n        var _this5 = this;\n\n        this.file.speed = 0;\n        var lastUploadedBytes = 0;\n        if (!this.speedInterval) {\n          this.speedInterval = window.setInterval(function () {\n            var uploadedBytes = _this5.progress / 100 * _this5.fileSize;\n            _this5.file.speed = uploadedBytes - lastUploadedBytes;\n            lastUploadedBytes = uploadedBytes;\n          }, 1000);\n        }\n      }\n\n      /**\n       * Removes the upload speed interval\n       */\n\n    }, {\n      key: 'stopSpeedCalc',\n      value: function stopSpeedCalc() {\n        this.speedInterval && window.clearInterval(this.speedInterval);\n        this.speedInterval = null;\n        this.file.speed = 0;\n      }\n    }, {\n      key: 'maxRetries',\n      get: function get() {\n        return parseInt(this.options.maxRetries, 10);\n      }\n\n      /**\n       * Gets the max number of active chunks being uploaded at once from options\n       */\n\n    }, {\n      key: 'maxActiveChunks',\n      get: function get() {\n        return parseInt(this.options.maxActive, 10);\n      }\n\n      /**\n       * Gets the file type\n       */\n\n    }, {\n      key: 'fileType',\n      get: function get() {\n        return this.file.type;\n      }\n\n      /**\n       * Gets the file size\n       */\n\n    }, {\n      key: 'fileSize',\n      get: function get() {\n        return this.file.size;\n      }\n\n      /**\n       * Gets the file name\n       */\n\n    }, {\n      key: 'fileName',\n      get: function get() {\n        return this.file.name;\n      }\n\n      /**\n       * Gets action (url) to upload the file\n       */\n\n    }, {\n      key: 'action',\n      get: function get() {\n        return this.options.action || null;\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in start phase\n       */\n\n    }, {\n      key: 'startBody',\n      get: function get() {\n        return this.options.startBody || {};\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in upload phase\n       */\n\n    }, {\n      key: 'uploadBody',\n      get: function get() {\n        return this.options.uploadBody || {};\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in finish phase\n       */\n\n    }, {\n      key: 'finishBody',\n      get: function get() {\n        return this.options.finishBody || {};\n      }\n\n      /**\n       * Gets the headers of the requests from options\n       */\n\n    }, {\n      key: 'headers',\n      get: function get() {\n        return this.options.headers || {};\n      }\n\n      /**\n       * Whether it's ready to upload files or not\n       */\n\n    }, {\n      key: 'readyToUpload',\n      get: function get() {\n        return !!this.chunks;\n      }\n\n      /**\n       * Gets the progress of the chunk upload\n       * - Gets all the completed chunks\n       * - Gets the progress of all the chunks that are being uploaded\n       */\n\n    }, {\n      key: 'progress',\n      get: function get() {\n        var _this6 = this;\n\n        var completedProgress = this.chunksUploaded.length / this.chunks.length * 100;\n        var uploadingProgress = this.chunksUploading.reduce(function (progress, chunk) {\n          return progress + (chunk.progress | 0) / _this6.chunks.length;\n        }, 0);\n\n        return Math.min(completedProgress + uploadingProgress, 100);\n      }\n\n      /**\n       * Gets all the chunks that are pending to be uploaded\n       */\n\n    }, {\n      key: 'chunksToUpload',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !chunk.active && !chunk.uploaded;\n        });\n      }\n\n      /**\n       * Whether there are chunks to upload or not\n       */\n\n    }, {\n      key: 'hasChunksToUpload',\n      get: function get() {\n        return this.chunksToUpload.length > 0;\n      }\n\n      /**\n       * Gets all the chunks that are uploading\n       */\n\n    }, {\n      key: 'chunksUploading',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.xhr && !!chunk.active;\n        });\n      }\n\n      /**\n       * Gets all the chunks that have finished uploading\n       */\n\n    }, {\n      key: 'chunksUploaded',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.uploaded;\n        });\n      }\n    }]);\n\n    return ChunkUploadHandler;\n  }();\n\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n\n  var script = {\n    methods: {\n      change: function change(e) {\n        this.$parent.addInputFile(e.target);\n        if (e.target.files) {\n          e.target.value = '';\n          if (e.target.files.length && !/safari/i.test(navigator.userAgent)) {\n            e.target.type = '';\n            e.target.type = 'file';\n          }\n        } else {\n          // ie9 fix #219\n          this.$destroy();\n          // eslint-disable-next-line\n          new this.constructor({\n            parent: this.$parent,\n            el: this.$el\n          });\n        }\n      }\n    }\n  };\n\n  function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n  /* server only */\n  , shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n    if (typeof shadowMode !== 'boolean') {\n      createInjectorSSR = createInjector;\n      createInjector = shadowMode;\n      shadowMode = false;\n    } // Vue.extend constructor export interop.\n\n\n    var options = typeof script === 'function' ? script.options : script; // render functions\n\n    if (template && template.render) {\n      options.render = template.render;\n      options.staticRenderFns = template.staticRenderFns;\n      options._compiled = true; // functional template\n\n      if (isFunctionalTemplate) {\n        options.functional = true;\n      }\n    } // scopedId\n\n\n    if (scopeId) {\n      options._scopeId = scopeId;\n    }\n\n    var hook;\n\n    if (moduleIdentifier) {\n      // server build\n      hook = function hook(context) {\n        // 2.3 injection\n        context = context || // cached call\n        this.$vnode && this.$vnode.ssrContext || // stateful\n        this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n        // 2.2 with runInNewContext: true\n\n        if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n          context = __VUE_SSR_CONTEXT__;\n        } // inject component styles\n\n\n        if (style) {\n          style.call(this, createInjectorSSR(context));\n        } // register component module identifier for async chunk inference\n\n\n        if (context && context._registeredComponents) {\n          context._registeredComponents.add(moduleIdentifier);\n        }\n      }; // used by ssr in case component is cached and beforeCreate\n      // never gets called\n\n\n      options._ssrRegister = hook;\n    } else if (style) {\n      hook = shadowMode ? function () {\n        style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n      } : function (context) {\n        style.call(this, createInjector(context));\n      };\n    }\n\n    if (hook) {\n      if (options.functional) {\n        // register for functional component in vue file\n        var originalRender = options.render;\n\n        options.render = function renderWithStyleInjection(h, context) {\n          hook.call(context);\n          return originalRender(h, context);\n        };\n      } else {\n        // inject component registration as beforeCreate hook\n        var existing = options.beforeCreate;\n        options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n      }\n    }\n\n    return script;\n  }\n\n  var normalizeComponent_1 = normalizeComponent;\n\n  /* script */\n  var __vue_script__ = script;\n\n  /* template */\n  var __vue_render__ = function __vue_render__() {\n    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('input', { attrs: { \"type\": \"file\", \"name\": _vm.$parent.name, \"id\": _vm.$parent.inputId || _vm.$parent.name, \"accept\": _vm.$parent.accept, \"capture\": _vm.$parent.capture, \"disabled\": _vm.$parent.disabled, \"webkitdirectory\": _vm.$parent.directory && _vm.$parent.features.directory, \"directory\": _vm.$parent.directory && _vm.$parent.features.directory, \"multiple\": _vm.$parent.multiple && _vm.$parent.features.html5 }, on: { \"change\": _vm.change } });\n  };\n  var __vue_staticRenderFns__ = [];\n\n  /* style */\n  var __vue_inject_styles__ = undefined;\n  /* scoped */\n  var __vue_scope_id__ = undefined;\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = false;\n  /* style inject */\n\n  /* style inject SSR */\n\n  var InputFile = normalizeComponent_1({ render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ }, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, undefined, undefined);\n\n  var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var CHUNK_DEFAULT_OPTIONS = {\n    headers: {},\n    action: '',\n    minSize: 1048576,\n    maxActive: 3,\n    maxRetries: 5,\n\n    handler: ChunkUploadHandler\n  };\n\n  var script$1 = {\n    components: {\n      InputFile: InputFile\n    },\n    props: {\n      inputId: {\n        type: String\n      },\n\n      name: {\n        type: String,\n        default: 'file'\n      },\n\n      accept: {\n        type: String\n      },\n\n      capture: {},\n\n      disabled: {},\n\n      multiple: {\n        type: Boolean\n      },\n\n      maximum: {\n        type: Number,\n        default: function _default() {\n          return this.multiple ? 0 : 1;\n        }\n      },\n\n      addIndex: {\n        type: [Boolean, Number]\n      },\n\n      directory: {\n        type: Boolean\n      },\n\n      postAction: {\n        type: String\n      },\n\n      putAction: {\n        type: String\n      },\n\n      customAction: {\n        type: Function\n      },\n\n      headers: {\n        type: Object,\n        default: Object\n      },\n\n      data: {\n        type: Object,\n        default: Object\n      },\n\n      timeout: {\n        type: Number,\n        default: 0\n      },\n\n      drop: {\n        default: false\n      },\n\n      dropDirectory: {\n        type: Boolean,\n        default: true\n      },\n\n      size: {\n        type: Number,\n        default: 0\n      },\n\n      extensions: {\n        default: Array\n      },\n\n      value: {\n        type: Array,\n        default: Array\n      },\n\n      thread: {\n        type: Number,\n        default: 1\n      },\n\n      // Chunk upload enabled\n      chunkEnabled: {\n        type: Boolean,\n        default: false\n      },\n\n      // Chunk upload properties\n      chunk: {\n        type: Object,\n        default: function _default() {\n          return CHUNK_DEFAULT_OPTIONS;\n        }\n      }\n    },\n\n    data: function data() {\n      return {\n        files: this.value,\n        features: {\n          html5: true,\n          directory: false,\n          drop: false\n        },\n\n        active: false,\n        dropActive: false,\n\n        uploading: 0,\n\n        destroy: false\n      };\n    },\n\n\n    /**\n     * mounted\n     * @return {[type]} [description]\n     */\n    mounted: function mounted() {\n      var input = document.createElement('input');\n      input.type = 'file';\n      input.multiple = true;\n\n      // html5 ç¹å¾\n      if (window.FormData && input.files) {\n        // ä¸ä¼ ç®å½ç¹å¾\n        if (typeof input.webkitdirectory === 'boolean' || typeof input.directory === 'boolean') {\n          this.features.directory = true;\n        }\n\n        // ææ½ç¹å¾\n        if (this.features.html5 && typeof input.ondrop !== 'undefined') {\n          this.features.drop = true;\n        }\n      } else {\n        this.features.html5 = false;\n      }\n\n      // files å®ä½ç¼å­\n      this.maps = {};\n      if (this.files) {\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        }\n      }\n\n      this.$nextTick(function () {\n        var _this = this;\n\n        // æ´æ°ä¸ç¶çº§\n        if (this.$parent) {\n          this.$parent.$forceUpdate();\n          // ææ½æ¸²æ\n          this.$parent.$nextTick(function () {\n            _this.watchDrop(_this.drop);\n          });\n        } else {\n          // ææ½æ¸²æ\n          this.watchDrop(this.drop);\n        }\n      });\n    },\n\n\n    /**\n     * beforeDestroy\n     * @return {[type]} [description]\n     */\n    beforeDestroy: function beforeDestroy() {\n      // å·²éæ¯\n      this.destroy = true;\n\n      // è®¾ç½®æä¸æ¿æ´»\n      this.active = false;\n\n      // éæ¯ææ½äºä»¶\n      this.watchDrop(false);\n    },\n\n\n    computed: {\n      /**\n       * uploading æ­£å¨ä¸ä¼ ççº¿ç¨\n       * @return {[type]} [description]\n       */\n\n      /**\n       * uploaded æä»¶åè¡¨æ¯å¦å¨é¨å·²ä¸ä¼ \n       * @return {[type]} [description]\n       */\n      uploaded: function uploaded() {\n        var file = void 0;\n        for (var i = 0; i < this.files.length; i++) {\n          file = this.files[i];\n          if (file.fileObject && !file.error && !file.success) {\n            return false;\n          }\n        }\n        return true;\n      },\n      chunkOptions: function chunkOptions() {\n        return Object.assign(CHUNK_DEFAULT_OPTIONS, this.chunk);\n      },\n      className: function className() {\n        return ['file-uploads', this.features.html5 ? 'file-uploads-html5' : 'file-uploads-html4', this.features.directory && this.directory ? 'file-uploads-directory' : undefined, this.features.drop && this.drop ? 'file-uploads-drop' : undefined, this.disabled ? 'file-uploads-disabled' : undefined];\n      }\n    },\n\n    watch: {\n      active: function active(_active) {\n        this.watchActive(_active);\n      },\n      dropActive: function dropActive() {\n        if (this.$parent) {\n          this.$parent.$forceUpdate();\n        }\n      },\n      drop: function drop(value) {\n        this.watchDrop(value);\n      },\n      value: function value(files) {\n        if (this.files === files) {\n          return;\n        }\n        this.files = files;\n\n        var oldMaps = this.maps;\n\n        // éå maps ç¼å­\n        this.maps = {};\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        }\n\n        // add, update\n        for (var key in this.maps) {\n          var newFile = this.maps[key];\n          var oldFile = oldMaps[key];\n          if (newFile !== oldFile) {\n            this.emitFile(newFile, oldFile);\n          }\n        }\n\n        // delete\n        for (var _key in oldMaps) {\n          if (!this.maps[_key]) {\n            this.emitFile(undefined, oldMaps[_key]);\n          }\n        }\n      }\n    },\n\n    methods: {\n\n      // æ¸ç©º\n      clear: function clear() {\n        if (this.files.length) {\n          var files = this.files;\n          this.files = [];\n\n          // å®ä½\n          this.maps = {};\n\n          // äºä»¶\n          this.emitInput();\n          for (var i = 0; i < files.length; i++) {\n            this.emitFile(undefined, files[i]);\n          }\n        }\n        return true;\n      },\n\n\n      // éæ©\n      get: function get(id) {\n        if (!id) {\n          return false;\n        }\n\n        if ((typeof id === 'undefined' ? 'undefined' : _typeof(id)) === 'object') {\n          return this.maps[id.id] || false;\n        }\n\n        return this.maps[id] || false;\n      },\n\n\n      // æ·»å \n      add: function add(_files) {\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.addIndex;\n\n        var files = _files;\n        var isArray = files instanceof Array;\n\n        // ä¸æ¯æ°ç»æ´çææ°ç»\n        if (!isArray) {\n          files = [files];\n        }\n\n        // éåè§èå¯¹è±¡\n        var addFiles = [];\n        for (var i = 0; i < files.length; i++) {\n          var file = files[i];\n          if (this.features.html5 && file instanceof Blob) {\n            file = {\n              file: file,\n              size: file.size,\n              name: file.webkitRelativePath || file.relativePath || file.name || 'unknown',\n              type: file.type\n            };\n          }\n          var fileObject = false;\n          if (file.fileObject === false) ; else if (file.fileObject) {\n            fileObject = true;\n          } else if (typeof Element !== 'undefined' && file.el instanceof Element) {\n            fileObject = true;\n          } else if (typeof Blob !== 'undefined' && file.file instanceof Blob) {\n            fileObject = true;\n          }\n          if (fileObject) {\n            file = _extends({\n              fileObject: true,\n              size: -1,\n              name: 'Filename',\n              type: '',\n              active: false,\n              error: '',\n              success: false,\n              putAction: this.putAction,\n              postAction: this.postAction,\n              timeout: this.timeout\n            }, file, {\n              response: {},\n\n              progress: '0.00', // åªè¯»\n              speed: 0 // åªè¯»\n              // xhr: false,                // åªè¯»\n              // iframe: false,             // åªè¯»\n            });\n\n            file.data = _extends({}, this.data, file.data ? file.data : {});\n\n            file.headers = _extends({}, this.headers, file.headers ? file.headers : {});\n          }\n\n          // å¿é¡»åå« id\n          if (!file.id) {\n            file.id = Math.random().toString(36).substr(2);\n          }\n\n          if (this.emitFilter(file, undefined)) {\n            continue;\n          }\n\n          // æå¤§æ°ééå¶\n          if (this.maximum > 1 && addFiles.length + this.files.length >= this.maximum) {\n            break;\n          }\n\n          addFiles.push(file);\n\n          // æå¤§æ°ééå¶\n          if (this.maximum === 1) {\n            break;\n          }\n        }\n\n        // æ²¡ææä»¶\n        if (!addFiles.length) {\n          return false;\n        }\n\n        // å¦ææ¯ 1 æ¸ç©º\n        if (this.maximum === 1) {\n          this.clear();\n        }\n\n        // æ·»å è¿å» files\n        var newFiles = void 0;\n        if (index === true || index === 0) {\n          newFiles = addFiles.concat(this.files);\n        } else if (index) {\n          var _newFiles;\n\n          newFiles = this.files.concat([]);\n          (_newFiles = newFiles).splice.apply(_newFiles, [index, 0].concat(addFiles));\n        } else {\n          newFiles = this.files.concat(addFiles);\n        }\n\n        this.files = newFiles;\n\n        // å®ä½\n        for (var _i = 0; _i < addFiles.length; _i++) {\n          var _file2 = addFiles[_i];\n          this.maps[_file2.id] = _file2;\n        }\n\n        // äºä»¶\n        this.emitInput();\n        for (var _i2 = 0; _i2 < addFiles.length; _i2++) {\n          this.emitFile(addFiles[_i2], undefined);\n        }\n\n        return isArray ? addFiles : addFiles[0];\n      },\n\n\n      // æ·»å è¡¨åæä»¶\n      addInputFile: function addInputFile(el) {\n        var files = [];\n        if (el.files) {\n          for (var i = 0; i < el.files.length; i++) {\n            var file = el.files[i];\n            files.push({\n              size: file.size,\n              name: file.webkitRelativePath || file.relativePath || file.name,\n              type: file.type,\n              file: file\n            });\n          }\n        } else {\n          var names = el.value.replace(/\\\\/g, '/').split('/');\n          delete el.__vuex__;\n          files.push({\n            name: names[names.length - 1],\n            el: el\n          });\n        }\n        return this.add(files);\n      },\n\n\n      // æ·»å  DataTransfer\n      addDataTransfer: function addDataTransfer(dataTransfer) {\n        var _this2 = this;\n\n        var files = [];\n        if (dataTransfer.items && dataTransfer.items.length) {\n          var items = [];\n          for (var i = 0; i < dataTransfer.items.length; i++) {\n            var item = dataTransfer.items[i];\n            if (item.getAsEntry) {\n              item = item.getAsEntry() || item.getAsFile();\n            } else if (item.webkitGetAsEntry) {\n              item = item.webkitGetAsEntry() || item.getAsFile();\n            } else {\n              item = item.getAsFile();\n            }\n            if (item) {\n              items.push(item);\n            }\n          }\n\n          return new Promise(function (resolve, reject) {\n            var forEach = function forEach(i) {\n              var item = items[i];\n              // ç»æ æä»¶æ°éå¤§äº æå¤§æ°é\n              if (!item || _this2.maximum > 0 && files.length >= _this2.maximum) {\n                return resolve(_this2.add(files));\n              }\n              _this2.getEntry(item).then(function (results) {\n                files.push.apply(files, _toConsumableArray(results));\n                forEach(i + 1);\n              });\n            };\n            forEach(0);\n          });\n        }\n\n        if (dataTransfer.files.length) {\n          for (var _i3 = 0; _i3 < dataTransfer.files.length; _i3++) {\n            files.push(dataTransfer.files[_i3]);\n            if (this.maximum > 0 && files.length >= this.maximum) {\n              break;\n            }\n          }\n          return Promise.resolve(this.add(files));\n        }\n\n        return Promise.resolve([]);\n      },\n\n\n      // è·å¾ entry\n      getEntry: function getEntry(entry) {\n        var _this3 = this;\n\n        var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n        return new Promise(function (resolve, reject) {\n          if (entry.isFile) {\n            entry.file(function (file) {\n              resolve([{\n                size: file.size,\n                name: path + file.name,\n                type: file.type,\n                file: file\n              }]);\n            });\n          } else if (entry.isDirectory && _this3.dropDirectory) {\n            var files = [];\n            var dirReader = entry.createReader();\n            var readEntries = function readEntries() {\n              dirReader.readEntries(function (entries) {\n                var forEach = function forEach(i) {\n                  if (!entries[i] && i === 0 || _this3.maximum > 0 && files.length >= _this3.maximum) {\n                    return resolve(files);\n                  }\n                  if (!entries[i]) {\n                    return readEntries();\n                  }\n                  _this3.getEntry(entries[i], path + entry.name + '/').then(function (results) {\n                    files.push.apply(files, _toConsumableArray(results));\n                    forEach(i + 1);\n                  });\n                };\n                forEach(0);\n              });\n            };\n            readEntries();\n          } else {\n            resolve([]);\n          }\n        });\n      },\n      replace: function replace(id1, id2) {\n        var file1 = this.get(id1);\n        var file2 = this.get(id2);\n        if (!file1 || !file2 || file1 === file2) {\n          return false;\n        }\n        var files = this.files.concat([]);\n        var index1 = files.indexOf(file1);\n        var index2 = files.indexOf(file2);\n        if (index1 === -1 || index2 === -1) {\n          return false;\n        }\n        files[index1] = file2;\n        files[index2] = file1;\n        this.files = files;\n        this.emitInput();\n        return true;\n      },\n\n\n      // ç§»é¤\n      remove: function remove(id) {\n        var file = this.get(id);\n        if (file) {\n          if (this.emitFilter(undefined, file)) {\n            return false;\n          }\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n          if (index === -1) {\n            console.error('remove', file);\n            return false;\n          }\n          files.splice(index, 1);\n          this.files = files;\n\n          // å®ä½\n          delete this.maps[file.id];\n\n          // äºä»¶\n          this.emitInput();\n          this.emitFile(undefined, file);\n        }\n        return file;\n      },\n\n\n      // æ´æ°\n      update: function update(id, data) {\n        var file = this.get(id);\n        if (file) {\n          var newFile = _extends({}, file, data);\n          // åç¨å¿é¡»å ä¸éè¯¯\n          if (file.fileObject && file.active && !newFile.active && !newFile.error && !newFile.success) {\n            newFile.error = 'abort';\n          }\n\n          if (this.emitFilter(newFile, file)) {\n            return false;\n          }\n\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n          if (index === -1) {\n            console.error('update', file);\n            return false;\n          }\n          files.splice(index, 1, newFile);\n          this.files = files;\n\n          // å é¤  æ§å®ä½ åå¥ æ°å®ä½ ï¼å·²ä¾¿æ¯æä¿®æ¹id)\n          delete this.maps[file.id];\n          this.maps[newFile.id] = newFile;\n\n          // äºä»¶\n          this.emitInput();\n          this.emitFile(newFile, file);\n          return newFile;\n        }\n        return false;\n      },\n\n\n      // é¢å¤ç äºä»¶ è¿æ»¤å¨\n      emitFilter: function emitFilter(newFile, oldFile) {\n        var isPrevent = false;\n        this.$emit('input-filter', newFile, oldFile, function () {\n          isPrevent = true;\n          return isPrevent;\n        });\n        return isPrevent;\n      },\n\n\n      // å¤çå äºä»¶ åå\n      emitFile: function emitFile(newFile, oldFile) {\n        this.$emit('input-file', newFile, oldFile);\n        if (newFile && newFile.fileObject && newFile.active && (!oldFile || !oldFile.active)) {\n          this.uploading++;\n          // æ¿æ´»\n          this.$nextTick(function () {\n            var _this4 = this;\n\n            setTimeout(function () {\n              _this4.upload(newFile).then(function () {\n                // eslint-disable-next-line\n                newFile = _this4.get(newFile);\n                if (newFile && newFile.fileObject) {\n                  _this4.update(newFile, {\n                    active: false,\n                    success: !newFile.error\n                  });\n                }\n              }).catch(function (e) {\n                _this4.update(newFile, {\n                  active: false,\n                  success: false,\n                  error: e.code || e.error || e.message || e\n                });\n              });\n            }, parseInt(Math.random() * 50 + 50, 10));\n          });\n        } else if ((!newFile || !newFile.fileObject || !newFile.active) && oldFile && oldFile.fileObject && oldFile.active) {\n          // åæ­¢\n          this.uploading--;\n        }\n\n        // èªå¨å»¶ç»­æ¿æ´»\n        if (this.active && (Boolean(newFile) !== Boolean(oldFile) || newFile.active !== oldFile.active)) {\n          this.watchActive(true);\n        }\n      },\n      emitInput: function emitInput() {\n        this.$emit('input', this.files);\n      },\n\n\n      // ä¸ä¼ \n      upload: function upload(id) {\n        var file = this.get(id);\n\n        // è¢«å é¤\n        if (!file) {\n          return Promise.reject('not_exists');\n        }\n\n        // ä¸æ¯æä»¶å¯¹è±¡\n        if (!file.fileObject) {\n          return Promise.reject('file_object');\n        }\n\n        // æéè¯¯ç´æ¥ååº\n        if (file.error) {\n          return Promise.reject(file.error);\n        }\n\n        // å·²å®æç´æ¥ååº\n        if (file.success) {\n          return Promise.resolve(file);\n        }\n\n        // åç¼\n        var extensions = this.extensions;\n        if (extensions && (extensions.length || typeof extensions.length === 'undefined')) {\n          if ((typeof extensions === 'undefined' ? 'undefined' : _typeof(extensions)) !== 'object' || !(extensions instanceof RegExp)) {\n            if (typeof extensions === 'string') {\n              extensions = extensions.split(',').map(function (value) {\n                return value.trim();\n              }).filter(function (value) {\n                return value;\n              });\n            }\n            extensions = new RegExp('\\\\.(' + extensions.join('|').replace(/\\./g, '\\\\.') + ')$', 'i');\n          }\n          if (file.name.search(extensions) === -1) {\n            return Promise.reject('extension');\n          }\n        }\n\n        // å¤§å°\n        if (this.size > 0 && file.size >= 0 && file.size > this.size) {\n          return Promise.reject('size');\n        }\n\n        if (this.customAction) {\n          return this.customAction(file, this);\n        }\n\n        if (this.features.html5) {\n          if (this.shouldUseChunkUpload(file)) {\n            return this.uploadChunk(file);\n          }\n          if (file.putAction) {\n            return this.uploadPut(file);\n          }\n          if (file.postAction) {\n            return this.uploadHtml5(file);\n          }\n        }\n        if (file.postAction) {\n          return this.uploadHtml4(file);\n        }\n        return Promise.reject('No action configured');\n      },\n\n\n      /**\n       * Whether this file should be uploaded using chunk upload or not\n       *\n       * @param Object file\n       */\n      shouldUseChunkUpload: function shouldUseChunkUpload(file) {\n        return this.chunkEnabled && !!this.chunkOptions.handler && file.size > this.chunkOptions.minSize;\n      },\n\n\n      /**\n       * Upload a file using Chunk method\n       *\n       * @param File file\n       */\n      uploadChunk: function uploadChunk(file) {\n        var HandlerClass = this.chunkOptions.handler;\n        file.chunk = new HandlerClass(file, this.chunkOptions);\n\n        return file.chunk.upload();\n      },\n      uploadPut: function uploadPut(file) {\n        var querys = [];\n        var value = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value !== null && value !== undefined) {\n            querys.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n          }\n        }\n        var queryString = querys.length ? (file.putAction.indexOf('?') === -1 ? '?' : '&') + querys.join('&') : '';\n        var xhr = new XMLHttpRequest();\n        xhr.open('PUT', file.putAction + queryString);\n        return this.uploadXhr(xhr, file, file.file);\n      },\n      uploadHtml5: function uploadHtml5(file) {\n        var form = new window.FormData();\n        var value = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && typeof value.toString !== 'function') {\n            if (value instanceof File) {\n              form.append(key, value, value.name);\n            } else {\n              form.append(key, JSON.stringify(value));\n            }\n          } else if (value !== null && value !== undefined) {\n            form.append(key, value);\n          }\n        }\n        form.append(this.name, file.file, file.file.filename || file.name);\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', file.postAction);\n        return this.uploadXhr(xhr, file, form);\n      },\n      uploadXhr: function uploadXhr(xhr, _file, body) {\n        var _this5 = this;\n\n        var file = _file;\n        var speedTime = 0;\n        var speedLoaded = 0;\n\n        // è¿åº¦æ¡\n        xhr.upload.onprogress = function (e) {\n          // è¿æªå¼å§ä¸ä¼  å·²å é¤ æªæ¿æ´»\n          file = _this5.get(file);\n          if (!e.lengthComputable || !file || !file.fileObject || !file.active) {\n            return;\n          }\n\n          // è¿åº¦ éåº¦ æ¯ç§æ´æ°ä¸æ¬¡\n          var speedTime2 = Math.round(Date.now() / 1000);\n          if (speedTime2 === speedTime) {\n            return;\n          }\n          speedTime = speedTime2;\n\n          file = _this5.update(file, {\n            progress: (e.loaded / e.total * 100).toFixed(2),\n            speed: e.loaded - speedLoaded\n          });\n          speedLoaded = e.loaded;\n        };\n\n        // æ£æ¥æ¿æ´»ç¶æ\n        var interval = setInterval(function () {\n          file = _this5.get(file);\n          if (file && file.fileObject && !file.success && !file.error && file.active) {\n            return;\n          }\n\n          if (interval) {\n            clearInterval(interval);\n            interval = false;\n          }\n\n          try {\n            xhr.abort();\n            xhr.timeout = 1;\n          } catch (e) {}\n        }, 100);\n\n        return new Promise(function (resolve, reject) {\n          var complete = void 0;\n          var fn = function fn(e) {\n            // å·²ç»å¤çè¿äº\n            if (complete) {\n              return;\n            }\n            complete = true;\n            if (interval) {\n              clearInterval(interval);\n              interval = false;\n            }\n\n            file = _this5.get(file);\n\n            // ä¸å­å¨ç´æ¥ååº\n            if (!file) {\n              return reject('not_exists');\n            }\n\n            // ä¸æ¯æä»¶å¯¹è±¡\n            if (!file.fileObject) {\n              return reject('file_object');\n            }\n\n            // æéè¯¯èªå¨ååº\n            if (file.error) {\n              return reject(file.error);\n            }\n\n            // æªæ¿æ´»\n            if (!file.active) {\n              return reject('abort');\n            }\n\n            // å·²å®æ ç´æ¥ç¸åº\n            if (file.success) {\n              return resolve(file);\n            }\n\n            var data = {};\n\n            switch (e.type) {\n              case 'timeout':\n              case 'abort':\n                data.error = e.type;\n                break;\n              case 'error':\n                if (!xhr.status) {\n                  data.error = 'network';\n                } else if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                }\n                break;\n              default:\n                if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                } else {\n                  data.progress = '100.00';\n                }\n            }\n\n            if (xhr.responseText) {\n              var contentType = xhr.getResponseHeader('Content-Type');\n              if (contentType && contentType.indexOf('/json') !== -1) {\n                data.response = JSON.parse(xhr.responseText);\n              } else {\n                data.response = xhr.responseText;\n              }\n            }\n\n            // æ´æ°\n            file = _this5.update(file, data);\n\n            // ç¸åºéè¯¯\n            if (file.error) {\n              return reject(file.error);\n            }\n\n            // ååº\n            return resolve(file);\n          };\n\n          // äºä»¶\n          xhr.onload = fn;\n          xhr.onerror = fn;\n          xhr.onabort = fn;\n          xhr.ontimeout = fn;\n\n          // è¶æ¶\n          if (file.timeout) {\n            xhr.timeout = file.timeout;\n          }\n\n          // headers\n          for (var key in file.headers) {\n            xhr.setRequestHeader(key, file.headers[key]);\n          }\n\n          // æ´æ° xhr\n          file = _this5.update(file, { xhr: xhr });\n\n          // å¼å§ä¸ä¼ \n          xhr.send(body);\n        });\n      },\n      uploadHtml4: function uploadHtml4(_file) {\n        var _this6 = this;\n\n        var file = _file;\n        var onKeydown = function onKeydown(e) {\n          if (e.keyCode === 27) {\n            e.preventDefault();\n          }\n        };\n\n        var iframe = document.createElement('iframe');\n        iframe.id = 'upload-iframe-' + file.id;\n        iframe.name = 'upload-iframe-' + file.id;\n        iframe.src = 'about:blank';\n        iframe.setAttribute('style', 'width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;');\n\n        var form = document.createElement('form');\n\n        form.action = file.postAction;\n\n        form.name = 'upload-form-' + file.id;\n\n        form.setAttribute('method', 'POST');\n        form.setAttribute('target', 'upload-iframe-' + file.id);\n        form.setAttribute('enctype', 'multipart/form-data');\n\n        var value = void 0;\n        var input = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && typeof value.toString !== 'function') {\n            value = JSON.stringify(value);\n          }\n          if (value !== null && value !== undefined) {\n            input = document.createElement('input');\n            input.type = 'hidden';\n            input.name = key;\n            input.value = value;\n            form.appendChild(input);\n          }\n        }\n        form.appendChild(file.el);\n\n        document.body.appendChild(iframe).appendChild(form);\n\n        var getResponseData = function getResponseData() {\n          var doc = void 0;\n          try {\n            if (iframe.contentWindow) {\n              doc = iframe.contentWindow.document;\n            }\n          } catch (err) {}\n          if (!doc) {\n            try {\n              doc = iframe.contentDocument ? iframe.contentDocument : iframe.document;\n            } catch (err) {\n              doc = iframe.document;\n            }\n          }\n          if (doc && doc.body) {\n            return doc.body.innerHTML;\n          }\n          return null;\n        };\n\n        return new Promise(function (resolve, reject) {\n          setTimeout(function () {\n            file = _this6.update(file, { iframe: iframe });\n\n            // ä¸å­å¨\n            if (!file) {\n              return reject('not_exists');\n            }\n\n            // å®æ¶æ£æ¥\n            var interval = setInterval(function () {\n              file = _this6.get(file);\n              if (file && file.fileObject && !file.success && !file.error && file.active) {\n                return;\n              }\n\n              if (interval) {\n                clearInterval(interval);\n                interval = false;\n              }\n\n              iframe.onabort({ type: file ? 'abort' : 'not_exists' });\n            }, 100);\n\n            var complete = void 0;\n            var fn = function fn(e) {\n              // å·²ç»å¤çè¿äº\n              if (complete) {\n                return;\n              }\n              complete = true;\n\n              if (interval) {\n                clearInterval(interval);\n                interval = false;\n              }\n\n              // å³é­ esc äºä»¶\n              document.body.removeEventListener('keydown', onKeydown);\n\n              file = _this6.get(file);\n\n              // ä¸å­å¨ç´æ¥ååº\n              if (!file) {\n                return reject('not_exists');\n              }\n\n              // ä¸æ¯æä»¶å¯¹è±¡\n              if (!file.fileObject) {\n                return reject('file_object');\n              }\n\n              // æéè¯¯èªå¨ååº\n              if (file.error) {\n                return reject(file.error);\n              }\n\n              // æªæ¿æ´»\n              if (!file.active) {\n                return reject('abort');\n              }\n\n              // å·²å®æ ç´æ¥ç¸åº\n              if (file.success) {\n                return resolve(file);\n              }\n\n              var response = getResponseData();\n              var data = {};\n              switch (e.type) {\n                case 'abort':\n                  data.error = 'abort';\n                  break;\n                case 'error':\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (response === null) {\n                    data.error = 'network';\n                  } else {\n                    data.error = 'denied';\n                  }\n                  break;\n                default:\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (data === null) {\n                    data.error = 'network';\n                  } else {\n                    data.progress = '100.00';\n                  }\n              }\n\n              if (response !== null) {\n                if (response && response.substr(0, 1) === '{' && response.substr(response.length - 1, 1) === '}') {\n                  try {\n                    response = JSON.parse(response);\n                  } catch (err) {}\n                }\n                data.response = response;\n              }\n\n              // æ´æ°\n              file = _this6.update(file, data);\n\n              if (file.error) {\n                return reject(file.error);\n              }\n\n              // ååº\n              return resolve(file);\n            };\n\n            // æ·»å äºä»¶\n            iframe.onload = fn;\n            iframe.onerror = fn;\n            iframe.onabort = fn;\n\n            // ç¦æ­¢ esc é®\n            document.body.addEventListener('keydown', onKeydown);\n\n            // æäº¤\n            form.submit();\n          }, 50);\n        }).then(function (res) {\n          iframe.parentNode && iframe.parentNode.removeChild(iframe);\n          return res;\n        }).catch(function (res) {\n          iframe.parentNode && iframe.parentNode.removeChild(iframe);\n          return res;\n        });\n      },\n      watchActive: function watchActive(active) {\n        var file = void 0;\n        var index = 0;\n        while (file = this.files[index]) {\n          index++;\n          if (!file.fileObject) ; else if (active && !this.destroy) {\n            if (this.uploading >= this.thread || this.uploading && !this.features.html5) {\n              break;\n            }\n            if (!file.active && !file.error && !file.success) {\n              this.update(file, { active: true });\n            }\n          } else {\n            if (file.active) {\n              this.update(file, { active: false });\n            }\n          }\n        }\n        if (this.uploading === 0) {\n          this.active = false;\n        }\n      },\n      watchDrop: function watchDrop(_el) {\n        var el = _el;\n        if (!this.features.drop) {\n          return;\n        }\n\n        // ç§»é¤æè½½\n        if (this.dropElement) {\n          try {\n            document.removeEventListener('dragenter', this.onDragenter, false);\n            document.removeEventListener('dragleave', this.onDragleave, false);\n            document.removeEventListener('drop', this.onDocumentDrop, false);\n            this.dropElement.removeEventListener('dragover', this.onDragover, false);\n            this.dropElement.removeEventListener('drop', this.onDrop, false);\n          } catch (e) {}\n        }\n\n        if (!el) {\n          el = false;\n        } else if (typeof el === 'string') {\n          el = document.querySelector(el) || this.$root.$el.querySelector(el);\n        } else if (el === true) {\n          el = this.$parent.$el;\n        }\n\n        this.dropElement = el;\n\n        if (this.dropElement) {\n          document.addEventListener('dragenter', this.onDragenter, false);\n          document.addEventListener('dragleave', this.onDragleave, false);\n          document.addEventListener('drop', this.onDocumentDrop, false);\n          this.dropElement.addEventListener('dragover', this.onDragover, false);\n          this.dropElement.addEventListener('drop', this.onDrop, false);\n        }\n      },\n      onDragenter: function onDragenter(e) {\n        e.preventDefault();\n        if (this.dropActive) {\n          return;\n        }\n        if (!e.dataTransfer) {\n          return;\n        }\n        var dt = e.dataTransfer;\n        if (dt.files && dt.files.length) {\n          this.dropActive = true;\n        } else if (!dt.types) {\n          this.dropActive = true;\n        } else if (dt.types.indexOf && dt.types.indexOf('Files') !== -1) {\n          this.dropActive = true;\n        } else if (dt.types.contains && dt.types.contains('Files')) {\n          this.dropActive = true;\n        }\n      },\n      onDragleave: function onDragleave(e) {\n        e.preventDefault();\n        if (!this.dropActive) {\n          return;\n        }\n        if (e.target.nodeName === 'HTML' || e.target === e.explicitOriginalTarget || !e.fromElement && (e.clientX <= 0 || e.clientY <= 0 || e.clientX >= window.innerWidth || e.clientY >= window.innerHeight)) {\n          this.dropActive = false;\n        }\n      },\n      onDragover: function onDragover(e) {\n        e.preventDefault();\n      },\n      onDocumentDrop: function onDocumentDrop() {\n        this.dropActive = false;\n      },\n      onDrop: function onDrop(e) {\n        e.preventDefault();\n        this.addDataTransfer(e.dataTransfer);\n      }\n    }\n  };\n\n  var isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n  function createInjector(context) {\n    return function (id, style) {\n      return addStyle(id, style);\n    };\n  }\n  var HEAD = document.head || document.getElementsByTagName('head')[0];\n  var styles = {};\n\n  function addStyle(id, css) {\n    var group = isOldIE ? css.media || 'default' : id;\n    var style = styles[group] || (styles[group] = {\n      ids: new Set(),\n      styles: []\n    });\n\n    if (!style.ids.has(id)) {\n      style.ids.add(id);\n      var code = css.source;\n\n      if (css.map) {\n        // https://developer.chrome.com/devtools/docs/javascript-debugging\n        // this makes source maps inside style tags work properly in Chrome\n        code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'; // http://stackoverflow.com/a/26603875\n\n        code += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';\n      }\n\n      if (!style.element) {\n        style.element = document.createElement('style');\n        style.element.type = 'text/css';\n        if (css.media) style.element.setAttribute('media', css.media);\n        HEAD.appendChild(style.element);\n      }\n\n      if ('styleSheet' in style.element) {\n        style.styles.push(code);\n        style.element.styleSheet.cssText = style.styles.filter(Boolean).join('\\n');\n      } else {\n        var index = style.ids.size - 1;\n        var textNode = document.createTextNode(code);\n        var nodes = style.element.childNodes;\n        if (nodes[index]) style.element.removeChild(nodes[index]);\n        if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);\n      }\n    }\n  }\n\n  var browser = createInjector;\n\n  /* script */\n  var __vue_script__$1 = script$1;\n\n  /* template */\n  var __vue_render__$1 = function __vue_render__() {\n    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('span', { class: _vm.className }, [_vm._t(\"default\"), _vm._v(\" \"), _c('label', { attrs: { \"for\": _vm.inputId || _vm.name } }), _vm._v(\" \"), _c('input-file')], 2);\n  };\n  var __vue_staticRenderFns__$1 = [];\n\n  /* style */\n  var __vue_inject_styles__$1 = function __vue_inject_styles__(inject) {\n    if (!inject) return;\n    inject(\"data-v-76d380b6_0\", { source: \".file-uploads{overflow:hidden;position:relative;text-align:center;display:inline-block}.file-uploads.file-uploads-html4 input,.file-uploads.file-uploads-html5 label{background:#fff;opacity:0;font-size:20em;z-index:1;top:0;left:0;right:0;bottom:0;position:absolute;width:100%;height:100%}.file-uploads.file-uploads-html4 label,.file-uploads.file-uploads-html5 input{background:rgba(255,255,255,0);overflow:hidden;position:fixed;width:1px;height:1px;z-index:-1;opacity:0}\", map: undefined, media: undefined });\n  };\n  /* scoped */\n  var __vue_scope_id__$1 = undefined;\n  /* module identifier */\n  var __vue_module_identifier__$1 = undefined;\n  /* functional template */\n  var __vue_is_functional_template__$1 = false;\n  /* style inject SSR */\n\n  var FileUpload = normalizeComponent_1({ render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 }, __vue_inject_styles__$1, __vue_script__$1, __vue_scope_id__$1, __vue_is_functional_template__$1, __vue_module_identifier__$1, browser, undefined);\n\n  var FileUpload$1 = /*#__PURE__*/Object.freeze({\n    default: FileUpload\n  });\n\n  function getCjsExportFromNamespace (n) {\n  \treturn n && n['default'] || n;\n  }\n\n  var require$$0 = getCjsExportFromNamespace(FileUpload$1);\n\n  var src = require$$0;\n\n  return src;\n\n})));\n//# sourceMappingURL=vue-upload-component.js.map\n"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","datasetName","attrs","services","length","directives","name","rawName","value","$refs","upload","dropActive","expression","ref","datasetGraphName","class","graphNameClasses","domProps","on","$event","target","composing","fileUploadClasses","postActionUrl","extensions","accept","multiple","directory","size","thread","headers","data","drop","dropDirectory","addIndex","model","files","callback","$$v","$set","active","preventDefault","uploadAll","datasetTableFields","datasetTableItems","scopedSlots","_u","key","fn","readableFileSize","item","speed","getFileStatus","style","progress","response","tripleCount","success","error","update","remove","staticRenderFns","library","components","Menu","FontAwesomeIcon","FileUpload","JenaTable","mixins","currentDatasetMixin","datasetFiles","minSize","autoCompress","uploadAuto","isOption","label","sortable","sortDirection","computed","map","file","status","watch","handler","deep","immediate","methods","console","validateForm","validateGraphName","validateFiles","component","global","factory","module","exports","createRequest","options","xhr","XMLHttpRequest","open","method","url","responseType","Object","keys","forEach","setRequestHeader","sendRequest","body","Promise","resolve","reject","onload","JSON","parse","err","onerror","send","stringify","sendFormRequest","FormData","append","request","_createClass","defineProperties","props","i","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","ChunkUploadHandler","chunks","sessionId","chunkSize","speedInterval","start","end","fileSize","push","blob","slice","startOffset","retries","maxRetries","stopChunks","chunksUploading","chunk","abort","stopSpeedCalc","startChunking","_this","promise","_this2","assign","action","startBody","phase","mime_type","fileType","fileName","then","res","session_id","end_offset","createChunks","catch","maxActiveChunks","uploadNextChunk","startSpeedCalc","hasChunksToUpload","uploadChunk","chunksToUpload","finish","_this3","updateFileProgress","addEventListener","evt","lengthComputable","Math","round","loaded","total","uploadBody","start_offset","uploaded","_this4","finishBody","_this5","lastUploadedBytes","window","setInterval","uploadedBytes","clearInterval","get","parseInt","maxActive","type","_this6","completedProgress","chunksUploaded","uploadingProgress","reduce","min","filter","script","change","e","$parent","addInputFile","test","navigator","userAgent","$destroy","constructor","parent","el","$el","normalizeComponent","template","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","concat","normalizeComponent_1","__vue_script__","__vue_render__","_h","$createElement","inputId","capture","disabled","features","html5","__vue_staticRenderFns__","__vue_inject_styles__","undefined","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","InputFile","_extends","arguments","source","hasOwnProperty","_typeof","Symbol","iterator","obj","_toConsumableArray","arr","Array","isArray","arr2","from","CHUNK_DEFAULT_OPTIONS","script$1","String","default","Boolean","maximum","Number","postAction","putAction","customAction","Function","timeout","chunkEnabled","uploading","destroy","mounted","input","document","createElement","webkitdirectory","ondrop","maps","id","$nextTick","$forceUpdate","watchDrop","beforeDestroy","fileObject","chunkOptions","className","_active","watchActive","oldMaps","newFile","oldFile","emitFile","_key","clear","emitInput","_files","index","addFiles","Blob","webkitRelativePath","relativePath","Element","random","toString","substr","emitFilter","newFiles","_newFiles","splice","apply","_i","_file2","_i2","names","replace","split","__vuex__","addDataTransfer","dataTransfer","items","getAsEntry","getAsFile","webkitGetAsEntry","getEntry","results","_i3","entry","path","isFile","isDirectory","dirReader","createReader","readEntries","entries","id1","id2","file1","file2","index1","indexOf","index2","isPrevent","$emit","setTimeout","code","message","RegExp","trim","join","search","shouldUseChunkUpload","uploadPut","uploadHtml5","uploadHtml4","HandlerClass","querys","encodeURIComponent","queryString","uploadXhr","form","File","filename","_file","speedTime","speedLoaded","onprogress","speedTime2","Date","now","toFixed","interval","complete","responseText","contentType","getResponseHeader","onabort","ontimeout","onKeydown","keyCode","iframe","src","setAttribute","appendChild","getResponseData","doc","contentWindow","contentDocument","innerHTML","removeEventListener","submit","parentNode","removeChild","_el","dropElement","onDragenter","onDragleave","onDocumentDrop","onDragover","onDrop","querySelector","dt","types","contains","nodeName","explicitOriginalTarget","fromElement","clientX","clientY","innerWidth","innerHeight","isOldIE","toLowerCase","addStyle","HEAD","head","getElementsByTagName","styles","css","group","media","ids","Set","has","sources","btoa","unescape","element","styleSheet","cssText","textNode","createTextNode","nodes","childNodes","insertBefore","browser","__vue_script__$1","__vue_render__$1","_t","__vue_staticRenderFns__$1","__vue_inject_styles__$1","inject","__vue_scope_id__$1","__vue_module_identifier__$1","__vue_is_functional_template__$1","FileUpload$1","freeze","getCjsExportFromNamespace","n","require$$0"],"sourceRoot":""}